/**
 * A flexible, generic modal service
 * @version v0.1.3
 * @link 
 * @author One Acre Fund <devs@oneacrefund.org>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(n){"use strict";n.module("ngGenericModal",["ui.bootstrap"]).controller("genericModalController",["$scope","$uibModalInstance","$uibModalStack",function(n,o,t){n.instance=o,n.continue=function(){o.close(),o.options.continueCallback(o),t.dismissAll()},n.cancel=function(){o.dismiss(),o.options.cancelCallback(o),t.dismissAll()}}]).factory("genericModal",["$uibModal","$q","$templateCache",function(n,o,t){t.get("modal.html");function e(o,e,i){var c={showContinue:!0,showCancel:!1,cancellableBackdrop:!0,continueButton:"OK",cancelButton:"Cancel",continueClasses:"",cancelClasses:"",htmlBody:!1,size:"md",errorIcon:!1,successIcon:!1,icon:void 0,iconClasses:void 0,continueCallback:function(){},cancelCallback:function(){}};(i=Object.assign({},c,i)).errorIcon&&(i.icon="times-circle",i.iconClasses="text-danger"),i.successIcon&&(i.icon="check-circle",i.iconClasses="text-success"),i.__isHtmlFile=e.endsWith(".html")||e.endsWith(".cshtml");var s=n.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",template:t.get("modal.html"),controller:"genericModalController",controllerAs:"modal",size:i.size,backdrop:!!i.cancellableBackdrop||"static"});s.modalTitle=o,s.modalBody=e,s.options=i}function i(n,t,i){i=i||{};var c=o.defer();return i.continueCallback=function(){c.resolve()},i.cancelCallback=function(){c.reject()},e(n,t,i),c.promise}return{open:e,openPromise:i,asyncOpen:function(n,o,t){return console.warn("WARNING: The `asyncOpen` function is being deprecated. Please update the code to use the new `openPromise` function. The parameters and behaviour remains the same."),i(n,o,t)}}}]).run(["$templateCache",function(n){n.put("modal.html","<div class='modal-header modal-border'><h3 class='modal-title' id='modal-title'><span ng-if='instance.options.icon'><i class='fa fa-{{instance.options.icon}} {{instance.options.iconClasses}}'></i> </span>{{instance.modalTitle}}</h3></div><div class='modal-body' id='modal-body'><div ng-if='!instance.options.htmlBody && !instance.options.__isHtmlFile'>{{instance.modalBody}}</div><ng-bind-html ng-if='instance.options.htmlBody && !instance.options.__isHtmlFile' ng-bind-html='instance.modalBody | to_trusted'></ng-bind-html><ng-include ng-if='instance.options.__isHtmlFile' src='instance.modalBody'></ng-include></div><div class='modal-footer'><button ng-if='instance.options.showContinue' class='btn btn-modal {{instance.options.continueClasses}}' type='button' ng-click='continue()'>{{instance.options.continueButton}}</button><button ng-if='instance.options.showCancel' class='btn btn-modal {{instance.options.cancelClasses}}' type='button' ng-click='cancel()'>{{instance.options.cancelButton}}</button></div>")}]).filter("to_trusted",["$sce",function(n){return function(o){return n.trustAsHtml(o)}}])}(angular);