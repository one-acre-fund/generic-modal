/**
 * A flexible, generic modal service
 * @version v0.1.5
 * @link 
 * @author One Acre Fund <devs@oneacrefund.org>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

!function(n){"use strict";n.module("ngGenericModal",["ui.bootstrap"]).controller("genericModalController",["$scope","$uibModalInstance","$uibModalStack",function(n,o,t){n.instance=o,n.continue=function(){o.close(),o.options.continueCallback(o),t.dismissAll()},n.cancel=function(){o.dismiss(),o.options.cancelCallback(o),t.dismissAll()}}]).factory("genericModal",["$uibModal","$q","$templateCache",function(n,o,t){t.get("modal.html");function i(o,i,e){var c={showContinue:!0,showCancel:!1,cancellableBackdrop:!0,continueButton:"OK",cancelButton:"Cancel",continueClasses:"",cancelClasses:"",htmlBody:!1,size:"md",errorIcon:!1,successIcon:!1,icon:void 0,iconClasses:void 0,continueCallback:function(){},cancelCallback:function(){}};(e=Object.assign({},c,e)).errorIcon&&(e.icon="times-circle",e.iconClasses="text-danger"),e.successIcon&&(e.icon="check-circle",e.iconClasses="text-success"),e.__isHtmlFile=i.endsWith(".html")||i.endsWith(".cshtml");var s=n.open({animation:!0,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",template:t.get("modal.html"),controller:"genericModalController",controllerAs:"modal",size:e.size,backdrop:!!e.cancellableBackdrop||"static"});s.modalTitle=o,s.modalBody=i,s.options=e}return{open:i,openPromise:function(n,t,e){e=e||{};var c=o.defer();return e.continueCallback=function(){c.resolve()},e.cancelCallback=function(){c.reject()},i(n,t,e),c.promise}}}]).run(["$templateCache",function(n){n.put("modal.html","<div class='modal-header modal-border'><h3 class='modal-title' id='modal-title'><span ng-if='instance.options.icon'><i class='fa fa-{{instance.options.icon}} {{instance.options.iconClasses}}'></i> </span>{{instance.modalTitle}}</h3></div><div class='modal-body' id='modal-body'><div ng-if='!instance.options.htmlBody && !instance.options.__isHtmlFile'>{{instance.modalBody}}</div><ng-bind-html ng-if='instance.options.htmlBody && !instance.options.__isHtmlFile' ng-bind-html='instance.modalBody | to_trusted'></ng-bind-html><ng-include ng-if='instance.options.__isHtmlFile' src='instance.modalBody'></ng-include></div><div class='modal-footer'><button ng-if='instance.options.showContinue' class='btn btn-modal {{instance.options.continueClasses}}' type='button' ng-click='continue()'>{{instance.options.continueButton}}</button><button ng-if='instance.options.showCancel' class='btn btn-modal {{instance.options.cancelClasses}}' type='button' ng-click='cancel()'>{{instance.options.cancelButton}}</button></div>")}]).filter("to_trusted",["$sce",function(n){return function(o){return n.trustAsHtml(o)}}])}(angular);